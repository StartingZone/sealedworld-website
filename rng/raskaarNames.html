<html>
  <head>
	<title>Raskaar Name Generator</title>
    <link rel="stylesheet" href="../main.css">
    <link rel="stylesheet" href="../mobile.css">
    <link rel="stylesheet" href="../rng.css">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <script type=text/javascript>
		function pickOne(data)
		{ 
			var index = Math.floor(Math.random() * data.length) 
			return data[index];
		}

		function generate(count) {
	        var ul = document.getElementById("resultsList");
	        //remove all the existing children of the list
	        while(ul.firstChild) ul.removeChild(ul.firstChild);

	        for (var n=0;n<count;n++)
	        {
	        	var li=document.createElement('li');
	        	var first = new Array
	        	switch(Math.floor(Math.random() * 2)) {
	        		case 0:
	        			first[0] = pickOne(startConsonant)
	        			first[1] = pickOne(vowel);
	        			first[2] = pickOne(consonant);
	        		break;
	        		case 1:
	        			first[0] = pickOne(vowel)
	        			first[1] = pickOne(consonant);
	        			first[2] = pickOne(vowel);
	        		break;
	        	}
	        	var second = new Array 
	        	switch(Math.floor(Math.random() * 2)) {
	        		case 0:
	        			second[0] = pickOne(endConsonant);
	        			second[1] = pickOne(vowel);
	        		break;
	        		case 1:
	        			second[0] = pickOne(vowel);
	        			second[1] = pickOne(endConsonant);
	        		break;
	        	}

	        	var final = '';
	        	for(var i = 0; i < first.length; i++) {
	        		final = final + first[i];
	        	}

	        	if(isConsonant(first[first.length - 1]) && isConsonant(second[0])) {
	        		//repeat a vowel
	        		final = final + first[first.length - 2];
	        	}

	        	if(first[first.length -1] == second[0] && isNonRepeatableVowel(second[0])) {
	        		//prevent uu and ee
	        		second[0] = '';
	        	}

	        	//uppercase the first letter....
	        	final = final.charAt(0).toUpperCase() + final.slice(1);

	        	for(var i = 0; i < second.length; i++) {
	        		final = final + second[i];
	        	}
	        	li.innerHTML = li.innerHTML + final;
	        	ul.appendChild(li);
	        }
		}

		function isConsonant(letter) {
			return consonant.includes(letter);
		}

		function isNonRepeatableVowel(letter) {
			return letter == "u" || letter == "e";
		}
	</script>
  </head>
  <body>
	<div class="bg-image"></div>

	<div class="bg-text">
		<h1>Raskaar Name Generator</h1>
		<div class="nav-bar">
			<a href="../rng.html" class="rng-button">Back to generators</a>
			<a href="../index.html" class="rng-button">Back to home</a>
		</div>
		<p>In the foreboding wastes of the Raskaari Desert the fierce wolf-like Raskaar reside. But what are their names, though?</p>
		<div class="rng-bar">
			<button onclick="generate(1)" class="rng-button">Generate one name</a>
			<button onclick="generate(10)" class="rng-button">Generate 10 names</a>
		</div>
		<ul class="rng-results" id="resultsList">
		</ul>
	</div>

	<script type="text/javascript">
		var startConsonant = new Array
		startConsonant[0] = 'n'
		startConsonant[1] = 't'
		startConsonant[2] = 'd'
		startConsonant[3] = 'dh'
		startConsonant[4] = 'th'
		startConsonant[5] = 's'
		startConsonant[6] = 'z'
		startConsonant[7] = 'v'
		startConsonant[8] = 'r'
		startConsonant[9] = 'jh'
		startConsonant[10] = 'k'
		startConsonant[11] = 'g'
		startConsonant[12] = 'kh'
		startConsonant[13] = 'h'
		startConsonant[14] = 'sh'
		startConsonant[15] = 'y'
		startConsonant[16] = 'bh'

		var consonant = new Array
        consonant[0] = 'n' 
        consonant[1] = 't' 
        consonant[2] = 'd' 
        consonant[3] = 'dh' 
        consonant[4] = 'th' 
        consonant[5] = 's' 
        consonant[6] = 'z' 
        consonant[7] = 'v' 
        consonant[8] = 'r'
        consonant[9] = 'jh'
        consonant[10] = 'k'
        consonant[11] = 'g'
        consonant[12] = 'kh'
        consonant[13] = 'h'
        consonant[14] = 'sh'
        consonant[15] = 'ty'
        consonant[16] = 'nt'
        consonant[17] = 'y'
        consonant[18] = 'rk'
        consonant[19] = 'nd'
        consonant[20] = 'rn'
        consonant[21] = 'lk'
        consonant[22] = 'bh'

		var endConsonant = new Array
		endConsonant[0] = 'n'
		endConsonant[1] = 't'
		endConsonant[2] = 'd'
		endConsonant[3] = 'th'
		endConsonant[4] = 's'
		endConsonant[5] = 'z'
		endConsonant[6] = 'v'
		endConsonant[7] = 'r'
		endConsonant[8] = 'k'
		endConsonant[9] = 'g'
		endConsonant[10] = 'h'
		endConsonant[11] = 'sh'
		endConsonant[12] = 'nt'
		endConsonant[13] = 'y'
		endConsonant[14] = 'rk'
		endConsonant[15] = 'nd'
		endConsonant[16] = 'rn'
		endConsonant[17] = 'lk'
        
        var vowel = new Array 
        vowel[0] = 'a'
        vowel[1] = 'a'
        vowel[2] = 'i'
        vowel[3] = 'e'
        vowel[4] = 'o'

        generate(1);
	</script>
  </body>
</html>
