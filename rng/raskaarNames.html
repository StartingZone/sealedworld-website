<html>
  <head>
	<title>Raskaar Name Generator</title>
    <link rel="stylesheet" href="../main.css">
    <link rel="stylesheet" href="../mobile.css">
    <link rel="stylesheet" href="../rng.css">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <script type=text/javascript>
		function pickOne(data)
		{ 
			var index = Math.floor(Math.random() * data.length) 
			return data[index];
		}

		function generate(count) {
	        var ul = document.getElementById("resultsList");
	        //remove all the existing children of the list
	        while(ul.firstChild) ul.removeChild(ul.firstChild);

	        for (var n=0;n<count;n++)
	        {
	        	var li=document.createElement('li');
	        	var first = new Array
	        	switch(Math.floor(Math.random() * 4)) {
	        		case 0:
	        			first[0] = pickOne(consonant)
	        			first[1] = pickOne(vowel);
	        			first[2] = pickOne(consonant);
	        		break;
	        		case 1:
	        			first[0] = pickOne(vowel)
	        			first[1] = pickOne(consonant);
	        		break;
	        		case 2:
	        			first[0] = pickOne(consonant)
	        			first[1] = pickOne(vowel);
	        			first[2] = pickOne(consonant);
	        			first[1] = pickOne(vowel);
	        		break;
	        		case 3:
	        			first[0] = pickOne(vowel)
	        			first[1] = pickOne(consonant);
	        			first[2] = pickOne(vowel);
	        			first[1] = pickOne(consonant);
	        		break;
	        	}
	        	var second = new Array 
	        	switch(Math.floor(Math.random() * 2)) {
	        		case 0:
	        			second[0] = pickOne(consonant);
	        			second[1] = pickOne(vowel);
	        		break;
	        		case 1:
	        			second[0] = pickOne(vowel);
	        			second[1] = pickOne(consonant);
	        		break;
	        	}

	        	var final = '';
	        	for(var i = 0; i < first.length; i++) {
	        		final = final + first[i];
	        	}

	        	if(isConsonant(first[first.length - 1]) && isConsonant(second[0])) {
	        		//repeat a vowel
	        		final = final + first[first.length - 2];
	        	}

	        	if(first[first.length -1] == second[0] && isNonRepeatableVowel(second[0])) {
	        		//prevent uu and ee
	        		second[0] = '';
	        	}

	        	//uppercase the first letter....
	        	final = final.charAt(0).toUpperCase() + final.slice(1);

	        	for(var i = 0; i < second.length; i++) {
	        		final = final + second[i];
	        	}
	        	li.innerHTML = li.innerHTML + final;
	        	ul.appendChild(li);
	        }
		}

		function isConsonant(letter) {
			return consonant.includes(letter);
		}

		function isNonRepeatableVowel(letter) {
			return letter == "u" || letter == "e";
		}
	</script>
  </head>
  <body>
	<div class="bg-image"></div>

	<div class="bg-text">
		<h1>Raskaar Name Generator</h1>
		<div class="nav-bar">
			<a href="../rng.html" class="rng-button">Back to generators</a>
			<a href="../index.html" class="rng-button">Back to home</a>
		</div>
		<p>In the foreboding wastes of the Raskaari Desert the fierce wolf-like Raskaar reside. But what are their names, though?</p>
		<div class="rng-bar">
			<button onclick="generate(1)" class="rng-button">Generate one name</a>
			<button onclick="generate(10)" class="rng-button">Generate 10 names</a>
		</div>
		<ul class="rng-results" id="resultsList">
		</ul>
	</div>

	<script type="text/javascript">
		var consonant = new Array
        consonant[0] = 'd' 
        consonant[1] = 't' 
        consonant[2] = 'k' 
        consonant[3] = 's' 
        consonant[4] = 'sh' 
        consonant[5] = 'h' 
        consonant[6] = 'sk' 
        consonant[7] = 'n' 
        consonant[8] = 'l'
        consonant[9] = 'r'
        
        var vowel = new Array 
        vowel[0] = 'a'
        vowel[1] = 'a'
        vowel[2] = 'i'
        vowel[3] = 'e'
        vowel[4] = 'o'

        generate(1);
	</script>
  </body>
</html>
